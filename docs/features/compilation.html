<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Contract Compilation - Blockchain Toolkit</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../styles/feature-page.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="../assets/logo.png" alt="Blockchain Toolkit" class="logo">
                <span class="brand-text">Blockchain Toolkit</span>
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html" class="nav-link">Home</a></li>
                <li><a href="../docs.html" class="nav-link">Documentation</a></li>
                <li><a href="https://github.com/me-saurabhkohli/blockchain-toolkit" class="nav-link github-link">
                    <i class="fab fa-github"></i>
                </a></li>
            </ul>
        </div>
    </nav>

    <div class="feature-container">
        <!-- Breadcrumb -->
        <nav class="breadcrumb">
            <a href="../index.html">Home</a>
            <span>/</span>
            <a href="../docs.html">Documentation</a>
            <span>/</span>
            <span>Compilation</span>
        </nav>

        <!-- Main Content -->
        <main class="feature-content">
            <div class="feature-header">
                <h1 class="feature-title">
                    <i class="fas fa-cogs"></i>
                    Smart Contract Compilation
                </h1>
                <p class="feature-subtitle">
                    Comprehensive compilation features supporting multiple frameworks with optimization, error handling, and artifact management.
                </p>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="action-btn primary">
                    <i class="fas fa-play"></i>
                    Compile Contracts
                </button>
                <button class="action-btn secondary">
                    <i class="fas fa-trash"></i>
                    Clean Artifacts
                </button>
                <button class="action-btn secondary">
                    <i class="fas fa-settings"></i>
                    Compiler Settings
                </button>
            </div>

            <!-- Table of Contents -->
            <div class="toc">
                <h3><i class="fas fa-list"></i> Contents</h3>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#compilation-process">Compilation Process</a></li>
                    <li><a href="#framework-support">Framework Support</a></li>
                    <li><a href="#optimization">Optimization Settings</a></li>
                    <li><a href="#error-handling">Error Handling</a></li>
                    <li><a href="#artifacts">Artifact Management</a></li>
                    <li><a href="#advanced-features">Advanced Features</a></li>
                </ul>
            </div>

            <!-- Overview Section -->
            <section id="overview" class="feature-section">
                <h2><i class="fas fa-info-circle"></i> Overview</h2>
                
                <p>The Blockchain Toolkit provides unified compilation capabilities across multiple blockchain frameworks with intelligent error detection, optimization settings, and comprehensive artifact management.</p>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-magic"></i></div>
                        <h3>Auto-Detection</h3>
                        <p>Automatically detects Solidity version requirements and framework-specific configurations.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-tachometer-alt"></i></div>
                        <h3>Optimization</h3>
                        <p>Built-in optimization settings for gas efficiency and deployment cost reduction.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-exclamation-triangle"></i></div>
                        <h3>Error Detection</h3>
                        <p>Real-time error highlighting with detailed explanations and fix suggestions.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-archive"></i></div>
                        <h3>Artifact Management</h3>
                        <p>Intelligent handling of compilation artifacts with versioning and cleanup tools.</p>
                    </div>
                </div>
            </section>

            <!-- Compilation Process Section -->
            <section id="compilation-process" class="feature-section">
                <h2><i class="fas fa-cogs"></i> Compilation Process</h2>

                <div class="process-flow">
                    <div class="process-step">
                        <div class="process-number">1</div>
                        <div class="process-content">
                            <h3>Source Analysis</h3>
                            <p>Scans contracts directory and analyzes dependencies, imports, and version requirements.</p>
                        </div>
                    </div>
                    <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                    
                    <div class="process-step">
                        <div class="process-number">2</div>
                        <div class="process-content">
                            <h3>Compiler Selection</h3>
                            <p>Automatically selects appropriate compiler version based on pragma directives and project configuration.</p>
                        </div>
                    </div>
                    <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                    
                    <div class="process-step">
                        <div class="process-number">3</div>
                        <div class="process-content">
                            <h3>Compilation</h3>
                            <p>Executes compilation with framework-specific settings and optimization parameters.</p>
                        </div>
                    </div>
                    <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                    
                    <div class="process-step">
                        <div class="process-number">4</div>
                        <div class="process-content">
                            <h3>Artifact Generation</h3>
                            <p>Generates ABI, bytecode, and metadata files in appropriate output directories.</p>
                        </div>
                    </div>
                </div>

                <h3>Command Options</h3>
                <div class="command-grid">
                    <div class="command-card">
                        <div class="command-header">
                            <code>Blockchain: Compile</code>
                            <span class="shortcut">Ctrl+Shift+B</span>
                        </div>
                        <p>Standard compilation of all contracts with current settings.</p>
                    </div>
                    
                    <div class="command-card">
                        <div class="command-header">
                            <code>Blockchain: Compile (Force)</code>
                        </div>
                        <p>Force recompilation of all contracts, ignoring cache.</p>
                    </div>
                    
                    <div class="command-card">
                        <div class="command-header">
                            <code>Blockchain: Compile (Optimized)</code>
                        </div>
                        <p>Compile with maximum optimization settings enabled.</p>
                    </div>
                </div>
            </section>

            <!-- Framework Support Section -->
            <section id="framework-support" class="feature-section">
                <h2><i class="fas fa-layer-group"></i> Framework Support</h2>

                <div class="framework-tabs">
                    <div class="tab-header">
                        <button class="tab-btn active" data-tab="hardhat">Hardhat</button>
                        <button class="tab-btn" data-tab="truffle">Truffle</button>
                        <button class="tab-btn" data-tab="foundry">Foundry</button>
                    </div>

                    <!-- Hardhat Tab -->
                    <div class="tab-content active" id="hardhat">
                        <h3>Hardhat Compilation</h3>
                        <div class="framework-features">
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>TypeScript support</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Multiple Solidity versions</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Custom optimization settings</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Plugin integration</span>
                            </div>
                        </div>

                        <div class="code-block">
                            <div class="code-header">
                                <span>hardhat.config.js</span>
                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            </div>
                            <pre><code>module.exports = {
  solidity: {
    compilers: [
      {
        version: "0.8.19",
        settings: {
          optimizer: {
            enabled: true,
            runs: 200
          }
        }
      }
    ]
  },
  paths: {
    sources: "./contracts",
    artifacts: "./artifacts"
  }
};</code></pre>
                        </div>


                    </div>

                    <!-- Truffle Tab -->
                    <div class="tab-content" id="truffle">
                        <h3>Truffle Compilation</h3>
                        <div class="framework-features">
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Migration scripts</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Network-specific configs</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Contract abstractions</span>
                            </div>
                        </div>

                        <div class="code-block">
                            <div class="code-header">
                                <span>truffle-config.js</span>
                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            </div>
                            <pre><code>module.exports = {
  compilers: {
    solc: {
      version: "0.8.19",
      settings: {
        optimizer: {
          enabled: true,
          runs: 200
        }
      }
    }
  },
  contracts_directory: "./contracts",
  contracts_build_directory: "./build"
};</code></pre>
                        </div>
                    </div>

                    <!-- Foundry Tab -->
                    <div class="tab-content" id="foundry">
                        <h3>Foundry Compilation</h3>
                        <div class="framework-features">
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Fast compilation</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Library management</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Gas reports</span>
                            </div>
                        </div>

                        <div class="code-block">
                            <div class="code-header">
                                <span>foundry.toml</span>
                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            </div>
                            <pre><code>[profile.default]
src = "src"
out = "out"
libs = ["lib"]
solc = "0.8.19"
optimizer = true
optimizer_runs = 200

[profile.ci]
fuzz = { runs = 10_000 }
invariant = { runs = 1_000 }</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Optimization Section -->
            <section id="optimization" class="feature-section">
                <h2><i class="fas fa-tachometer-alt"></i> Optimization Settings</h2>

                <div class="callout callout-info">
                    <div class="callout-icon"><i class="fas fa-lightbulb"></i></div>
                    <div class="callout-content">
                        <h4>Gas Optimization</h4>
                        <p>Enable optimization to reduce gas costs for contract deployment and function calls. The optimizer runs parameter controls the trade-off between deployment cost and execution cost.</p>
                    </div>
                </div>

                <div class="optimization-grid">
                    <div class="optimization-card">
                        <h3>Development Profile</h3>
                        <div class="optimization-settings">
                            <div class="setting-item">
                                <span>Optimizer:</span>
                                <code>disabled</code>
                            </div>
                            <div class="setting-item">
                                <span>Debug Info:</span>
                                <code>enabled</code>
                            </div>
                            <div class="setting-item">
                                <span>Compilation Speed:</span>
                                <code>fast</code>
                            </div>
                        </div>
                        <p>Best for rapid development and testing with full debugging capabilities.</p>
                    </div>

                    <div class="optimization-card">
                        <h3>Production Profile</h3>
                        <div class="optimization-settings">
                            <div class="setting-item">
                                <span>Optimizer:</span>
                                <code>enabled (200 runs)</code>
                            </div>
                            <div class="setting-item">
                                <span>Debug Info:</span>
                                <code>minimal</code>
                            </div>
                            <div class="setting-item">
                                <span>Gas Efficiency:</span>
                                <code>optimized</code>
                            </div>
                        </div>
                        <p>Optimized for deployment with reduced gas costs and smaller bytecode.</p>
                    </div>

                    <div class="optimization-card">
                        <h3>High-Frequency Profile</h3>
                        <div class="optimization-settings">
                            <div class="setting-item">
                                <span>Optimizer:</span>
                                <code>enabled (10000 runs)</code>
                            </div>
                            <div class="setting-item">
                                <span>Execution Cost:</span>
                                <code>minimized</code>
                            </div>
                            <div class="setting-item">
                                <span>Use Case:</span>
                                <code>high-volume DApps</code>
                            </div>
                        </div>
                        <p>Optimized for contracts with frequent function calls and interactions.</p>
                    </div>
                </div>

                <h3>Configuration Examples</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>VS Code Settings</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>{
  "blockchain.solidity.optimizer": true,
  "blockchain.solidity.optimizerRuns": 200,
  "blockchain.solidity.version": "0.8.19",
  "blockchain.compilation.profile": "production",
  "blockchain.enableGasReporting": true
}</code></pre>
                </div>
            </section>

            <!-- Error Handling Section -->
            <section id="error-handling" class="feature-section">
                <h2><i class="fas fa-exclamation-triangle"></i> Error Handling</h2>

                <p>The extension provides comprehensive error detection and reporting with intelligent suggestions for common issues.</p>

                <div class="error-types">
                    <div class="error-type-card">
                        <div class="error-icon syntax">
                            <i class="fas fa-code"></i>
                        </div>
                        <h3>Syntax Errors</h3>
                        <ul>
                            <li>Missing semicolons</li>
                            <li>Incorrect function declarations</li>
                            <li>Invalid pragma directives</li>
                            <li>Mismatched brackets</li>
                        </ul>
                    </div>

                    <div class="error-type-card">
                        <div class="error-icon semantic">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Semantic Errors</h3>
                        <ul>
                            <li>Undefined variables</li>
                            <li>Type mismatches</li>
                            <li>Visibility conflicts</li>
                            <li>Inheritance issues</li>
                        </ul>
                    </div>

                    <div class="error-type-card">
                        <div class="error-icon dependency">
                            <i class="fas fa-link"></i>
                        </div>
                        <h3>Dependency Errors</h3>
                        <ul>
                            <li>Missing imports</li>
                            <li>Circular dependencies</li>
                            <li>Version conflicts</li>
                            <li>Path resolution issues</li>
                        </ul>
                    </div>
                </div>



                <h3>Error Resolution Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-magic"></i></div>
                        <h3>Quick Fixes</h3>
                        <p>Automatic suggestions for common errors with one-click fixes for imports, visibility, and syntax issues.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-book"></i></div>
                        <h3>Documentation Links</h3>
                        <p>Direct links to Solidity documentation and best practices for error resolution.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-history"></i></div>
                        <h3>Error History</h3>
                        <p>Track compilation errors over time and identify recurring issues in your codebase.</p>
                    </div>
                </div>
            </section>

            <!-- Artifacts Section -->
            <section id="artifacts" class="feature-section">
                <h2><i class="fas fa-archive"></i> Artifact Management</h2>

                <p>Compilation artifacts include ABI files, bytecode, metadata, and source maps. The extension provides comprehensive tools for managing these files.</p>

                <div class="artifact-structure">
                    <div class="folder-tree">
                        <div class="folder-item">
                            <i class="fas fa-folder-open"></i>
                            <span>artifacts/</span>
                            <div class="folder-children">
                                <div class="folder-item">
                                    <i class="fas fa-folder"></i>
                                    <span>contracts/</span>
                                    <div class="folder-children">
                                        <div class="file-item">
                                            <i class="fas fa-file-code"></i>
                                            <span>MyContract.sol/</span>
                                            <div class="folder-children">
                                                <div class="file-item">
                                                    <i class="fas fa-file-alt"></i>
                                                    <span>MyContract.json</span>
                                                    <span class="file-type">ABI + Bytecode</span>
                                                </div>
                                                <div class="file-item">
                                                    <i class="fas fa-file-alt"></i>
                                                    <span>MyContract.dbg.json</span>
                                                    <span class="file-type">Debug Info</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="folder-item">
                                    <i class="fas fa-folder"></i>
                                    <span>build-info/</span>
                                    <div class="folder-children">
                                        <div class="file-item">
                                            <i class="fas fa-file-alt"></i>
                                            <span>[hash].json</span>
                                            <span class="file-type">Compilation Metadata</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>Artifact Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-eye"></i></div>
                        <h3>Artifact Viewer</h3>
                        <p>Built-in viewer for ABI, bytecode, and metadata with syntax highlighting and search capabilities.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-compress-arrows-alt"></i></div>
                        <h3>Size Analysis</h3>
                        <p>Analyze contract size, identify large contracts approaching limits, and suggest optimizations.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-broom"></i></div>
                        <h3>Cleanup Tools</h3>
                        <p>Automated cleanup of outdated artifacts with options to preserve specific versions.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="card-icon"><i class="fas fa-download"></i></div>
                        <h3>Export Options</h3>
                        <p>Export artifacts in various formats for deployment tools, documentation, or external analysis.</p>
                    </div>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>Artifact Cleanup Command</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Clean all artifacts
Blockchain: Clean Artifacts

# Clean specific contract artifacts
Blockchain: Clean Contract Artifacts

# Clean and rebuild
Blockchain: Clean and Compile</code></pre>
                </div>
            </section>

            <!-- Advanced Features Section -->
            <section id="advanced-features" class="feature-section">
                <h2><i class="fas fa-rocket"></i> Advanced Features</h2>

                <div class="advanced-features-grid">
                    <div class="advanced-feature">
                        <div class="feature-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Custom Compiler Configurations</h3>
                            <p>Support for multiple Solidity versions, custom optimization parameters, and advanced compiler settings.</p>
                            <ul>
                                <li>Version-specific configurations</li>
                                <li>EVM target versions</li>
                                <li>Custom optimization strategies</li>
                                <li>Experimental features</li>
                            </ul>
                        </div>
                    </div>

                    <div class="advanced-feature">
                        <div class="feature-icon">
                            <i class="fas fa-plug"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Plugin Integration</h3>
                            <p>Seamless integration with popular Hardhat plugins and external tools.</p>
                            <ul>
                                <li>Gas reporter integration</li>
                                <li>Coverage analysis plugins</li>
                                <li>Verification plugins</li>
                                <li>Custom post-compilation hooks</li>
                            </ul>
                        </div>
                    </div>

                    <div class="advanced-feature">
                        <div class="feature-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Watch Mode</h3>
                            <p>Automatic recompilation on file changes with intelligent dependency tracking.</p>
                            <ul>
                                <li>Real-time compilation</li>
                                <li>Selective recompilation</li>
                                <li>Dependency graph analysis</li>
                                <li>Performance optimization</li>
                            </ul>
                        </div>
                    </div>

                    <div class="advanced-feature">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Compilation Analytics</h3>
                            <p>Detailed analytics and reporting for compilation performance and gas usage.</p>
                            <ul>
                                <li>Compilation time tracking</li>
                                <li>Gas usage reports</li>
                                <li>Size optimization metrics</li>
                                <li>Historical trend analysis</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-icon"><i class="fas fa-lightbulb"></i></div>
                    <div class="callout-content">
                        <h4>Pro Tip: Compilation Profiles</h4>
                        <p>Use different compilation profiles for development, testing, and production. Configure automatic profile switching based on your workflow needs.</p>
                    </div>
                </div>
            </section>

            <!-- Related Pages -->
            <section class="related-pages">
                <h3>Related Documentation</h3>
                <div class="related-grid">
                    <a href="testing.html" class="related-card">
                        <i class="fas fa-vial"></i>
                        <span>Testing & Coverage</span>
                    </a>
                    <a href="debugging.html" class="related-card">
                        <i class="fas fa-bug"></i>
                        <span>Advanced Debugging</span>
                    </a>
                    <a href="deployment.html" class="related-card">
                        <i class="fas fa-rocket"></i>
                        <span>Contract Deployment</span>
                    </a>
                </div>
            </section>
        </main>
    </div>

    <script src="../js/feature-page.js"></script>
</body>
</html>